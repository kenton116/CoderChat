extends layout

block content
  h1 ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
  p ãŠå¸°ã‚Šãªã•ã„ï¼ #{user.username} ã•ã‚“
  a(href=`/user/${user.id}`) ãƒã‚¤ãƒšãƒ¼ã‚¸
  
  div.quiz
    div.create-quiz
      h2.my-3 ã‚¯ã‚¤ã‚ºã‚’ä½œã‚‹ğŸ—’
      p ã‚¯ã‚¤ã‚ºã‚’ä½œã£ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ
      a(href="/quiz/new").btn.btn-outline-info æ–°è¦ã‚¯ã‚¤ã‚ºã‚’ä½œæˆ

    div.join-room
      h2.my-3 ãƒ«ãƒ¼ãƒ ã«å‚åŠ ğŸšª
      p ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§å­¦ç¿’ã—ã¾ã›ã‚“ã‹ï¼Ÿ
      a(href="/room/quiz").btn.btn-outline-info ã‚¯ã‚¤ã‚ºãƒ«ãƒ¼ãƒ ã«å…¥å®¤
      
  div.quiz-list
    h2.my-3 ã‚ãªãŸã®ã‚¯ã‚¤ã‚ºğŸ‘¤
    - var hasQuizzes = quizzes.length > 0
    if(hasQuizzes)
      p ã‚ãªãŸãŒä½œã£ãŸã‚¯ã‚¤ã‚ºã§ã™ï¼
      div.table-warp
        table.table
          tr
            th ã‚¯ã‚¤ã‚ºå
            th æ›´æ–°æ—¥æ™‚  
            th â­ï¸
            th
          each quiz in quizzes
            tr
              td
                a(href=`/quiz/${quiz.quizId}`) #{quiz.quizName}
              td #{quiz.updatedAt}
              td #{quiz.star}
              td 
                a(href=`/quiz/${quiz.quizId}/edit`).btn.btn-outline-info ç·¨é›†
    else 
      h4 ä½œã£ãŸã‚¯ã‚¤ã‚ºãŒã‚ã‚Šã¾ã›ã‚“ğŸ˜¢
      p æ—©é€Ÿã‚¯ã‚¤ã‚ºã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼

  - var isAdmin = user.id === adminGithub || user.id === adminGoogle 
    div.all-quiz-list
      h2.my-3 ã¿ã‚“ãªã®ã‚¯ã‚¤ã‚ºğŸ‘¥
      form(method="post" action="/quiz/search").form#search
        input(type="search" name="search" placeHolder="æ¤œç´¢ã—ãŸã„ã‚¿ã‚°ã‚’å…¥åŠ›" required).form-control
        button(type="submit").btn.btn-outline-primary æ¤œç´¢
      table.table
          tr
            th ã‚¯ã‚¤ã‚ºå
            th ä½œæˆè€…
            th æ›´æ–°æ—¥æ™‚ 
            th â­ï¸
            if isAdmin
              th å ±å‘Šä»¶æ•° 
              th
          each quiz in allQuiz
            tr 
              td 
                a(href=`/quiz/${quiz.quizId}`) #{quiz.quizName}
              td 
                a(href=`/user/${quiz.createdBy}`) #{quiz.createUser}
              td #{quiz.updatedAt}
              td #{quiz.star}

              if isAdmin
                td #{quiz.badReview}
                td 
                  a(href=`/quiz/${quiz.quizId}/edit`).btn.btn-outline-info ç·¨é›†