extends layout

block content
  h1 ダッシュボード
  p お帰りなさい！ #{user.username} さん
  
  div.quiz
    div.create-quiz
      h2.my-3 クイズを作る🗒
      a(href="/quiz/new").btn.btn-info 新規クイズを作成

    div.join-room
      h2.my-3 ルームに参加🚪
      a(href="/room/quiz").btn.btn-info クイズルームに入室
      
  div.quiz-list
    h2.my-3 クイズ一覧💬
    - var hasQuizzes = quizzes.length > 0
    if hasQuizzes
      table.table
        tr
          th クイズ名
          th 更新日時  
          th お気に入り数
          th
        each quiz in quizzes
          tr
            td
              a(href=`/quiz/${quiz.quizId}`) #{quiz.quizName}
            td #{quiz.updatedAt}
            td #{quiz.star}
            td 
              a(href=`/quiz/${quiz.quizId}/edit`) 編集

    else 
      h4 作ったクイズがありません😢
      a(href="quiz/new").btn.btn-info 早速クイズを作りましょう！

  - var isAdmin = user.id === adminGithub || user.id === adminGoogle 
  if isAdmin
    div.all-quiz-list
      h2.my-3 全てのクイズ [管理者機能]
      table.table
          tr
            th クイズ名
            th 更新日時 
            th お気に入り数
            th 報告件数
            th
          each quiz in allQuiz
            tr 
              td 
                a(href=`/quiz/${quiz.quizId}`) #{quiz.quizName}
              td #{quiz.updatedAt}
              td #{quiz.star}
              td #{quiz.badReview}
              td 
                a(href=`/quiz/${quiz.quizId}/edit`) 編集